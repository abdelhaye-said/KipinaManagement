<!DOCTYPE html>
{% include 'compte/navbar.html' %}
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0"
        crossorigin="anonymous">
  <title>Liste des assurés</title>
</head>
<body style="background-image: url('https://i.pinimg.com/originals/62/63/5b/62635bfd6f5c20e3666f27e015191bde.jpg');">

<div style="display: flex; flex-direction: row; flex-wrap: wrap">
  <div style="display: flex; flex-direction: row; flex-wrap: wrap">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <div class="container">
        <canvas id="myChart" width="100" height="31"></canvas>
        <script>
        var ctx = document.getElementById('myChart').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['Assuré', 'Non Assuré'],
                datasets: [{
                    label: 'Nombre enfant par classe',
                    data: [String({{ASSURE}}),String({{NON_ASSURE}})],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(53, 92, 95, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 3
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                
                }
            }
        });
    </script>
</div>

<div class="container">
 <div class="row">
    <div class="col-md-16">
        <h5>Liste Assurance</h5>
        <hr>
        <div class="card card-body">
            <table>
                <tr>
                    <th>
                        Name
                    </th>
                    <th>
                        Prenom
                    </th>
                    <th>
                        Classe
                    </th>
                    <th>
                        Assuré
                    </th>
                    <th>
                        Update
                    </th>
                    <th>
                        Delete
                    </th>
                </tr>
                {% for i in enf %}
                <tr>
                    <th>
                        {{i.enfant.name}}
                    </th>
                    <th> {{i.enfant.prenom}}</th>
                    <th>{{i.enfant.claSSe}}</th>
                    <th>{{i.assure}}</th>
                    <th class="btn btn-sm btn-info"> Update</th>
                    <th></th>
                    <th class="btn btn-sm btn-danger"> Remove</th>
                </tr>
                {% endfor %}
            </table>

        </div>
    </div>

 </div>
</div>
</body>
</html>